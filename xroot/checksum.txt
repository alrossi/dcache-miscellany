05 Aug 2021 03:11:13 (dc045_1) [] xrootd server error while processing write[handle=0,offset=838860800,length=8388608] (please report this to support@dcache.org)
java.lang.IllegalStateException: ChecksumChannel must not be written to after getChecksums
	at com.google.common.base.Preconditions.checkState(Preconditions.java:504)
	at org.dcache.pool.movers.ChecksumChannel.write(ChecksumChannel.java:164)
	at org.dcache.pool.repository.ForwardingRepositoryChannel.write(ForwardingRepositoryChannel.java:46)
	at org.dcache.pool.repository.inotify.InotifyChannel.write(InotifyChannel.java:151)
	at org.dcache.pool.repository.ForwardingRepositoryChannel.write(ForwardingRepositoryChannel.java:46)
	at org.dcache.pool.repository.AllocatorAwareRepositoryChannel.write(AllocatorAwareRepositoryChannel.java:218)
	at org.dcache.pool.movers.MoverChannel.write(MoverChannel.java:171)
	at org.dcache.pool.movers.MoverChannelDecorator.write(MoverChannelDecorator.java:85)
	at org.dcache.xrootd.pool.WriteDescriptor.write(WriteDescriptor.java:41)
	at org.dcache.xrootd.pool.XrootdPoolRequestHandler.doOnWrite(XrootdPoolRequestHandler.java:663)
	at org.dcache.xrootd.pool.XrootdPoolRequestHandler.doOnWrite(XrootdPoolRequestHandler.java:101)
	at org.dcache.xrootd.core.XrootdRequestHandler.requestReceived(XrootdRequestHandler.java:178)
	at org.dcache.xrootd.core.XrootdRequestHandler.channelRead(XrootdRequestHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)
	at org.dcache.util.ChannelCdcSessionHandlerWrapper.channelRead(ChannelCdcSessionHandlerWrapper.java:173)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.dcache.util.CDCThreadFactory.lambda$newThread$0(CDCThreadFactory.java:50)
	at java.base/java.lang.Thread.run(Thread.java:834)

===================

java.lang.Throwable: finalizeChecksums
        at org.dcache.pool.movers.ChecksumChannel.finalizeChecksums(ChecksumChannel.java:257)
        at org.dcache.pool.movers.ChecksumChannel.getChecksums(ChecksumChannel.java:246)
        at org.dcache.pool.movers.AbstractMover.getActualChecksums(AbstractMover.java:348)
        at org.dcache.pool.classic.DefaultPostTransferService.lambda$execute$1(DefaultPostTransferService.java:108)
        at org.dcache.util.FireAndForgetTask.run(FireAndForgetTask.java:31)
        at org.dcache.util.CDCExecutorServiceDecorator$WrappedRunnable.run(CDCExecutorServiceDecorator.java:149)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:834)
19 May 2020 13:31:16 (dmsdca15-OFF) [] xrootd server error while processing write[handle=0,offset=8388608,length=8388608] (please report this to support@dcache.org)
java.lang.IllegalStateException: ChecksumChannel must not be written to after getChecksums
        at com.google.common.base.Preconditions.checkState(Preconditions.java:504)
        at org.dcache.pool.movers.ChecksumChannel.write(ChecksumChannel.java:164)
        at org.dcache.pool.repository.ForwardingRepositoryChannel.write(ForwardingRepositoryChannel.java:46)
        at org.dcache.pool.repository.inotify.InotifyChannel.write(InotifyChannel.java:151)
        at org.dcache.pool.repository.ForwardingRepositoryChannel.write(ForwardingRepositoryChannel.java:46)
        at org.dcache.pool.repository.AllocatorAwareRepositoryChannel.write(AllocatorAwareRepositoryChannel.java:188)
        at org.dcache.pool.movers.MoverChannel.write(MoverChannel.java:171)
        at org.dcache.pool.movers.MoverChannelDecorator.write(MoverChannelDecorator.java:85)
        at org.dcache.xrootd.pool.WriteDescriptor.write(WriteDescriptor.java:41)
        at org.dcache.xrootd.pool.XrootdPoolRequestHandler.doOnWrite(XrootdPoolRequestHandler.java:634)
        at org.dcache.xrootd.pool.XrootdPoolRequestHandler.doOnWrite(XrootdPoolRequestHandler.java:104)